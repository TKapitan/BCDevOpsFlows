# Store App Locally

Allows to store the generated app file in local (or shared) folder for usage in other pipelines as dependencies or as steps of other pipelines.

## INPUT Parameters

| Name                  | Required  | Description                                                       | Default value |
| :--                   | :-:       | :--                                                               | :--           |
| isPreview             | No        | Specifies whether the app to store is preview or public release   | No            |

## ENV INPUT variables

| Name                  | Description |
| :--                   | :-- |
| AL_SETTINGS           | BCDevOpsFlows settings as specified and generated by the ReadSettings. This should be always generated by pipeline by running ReadSettings step. |
| AL_DELIVERTO | Specifies configuration where the app files (for app and test app) should be delivered to. See chapter below for details about the content. |
| AL_TRUSTEDNUGETFEEDS_INTERNAL | Specifies details about nuget feeds to be used to retrieve dependencies. You do not need to include Microsoft NuGet feeds as they are included automatically. See chapter below for details about the content. In default setup, configure AL_TRUSTEDNUGETFEEDS variable in your library and pass it to AL_TRUSTEDNUGETFEEDS_INTERNAL variable in yaml file (secret variables must be explicitly configured in yaml files). |
| AL_BCDEVTOOLSFOLDER   | Specifies the folder used where the Business Central Developer Tools from Nuget are stored.   |
| AL_DEBUG | If set to 'true', pipelines generate additional logs that provides better details. If requesting support, you must provide log generated when this variable is enabled. |

### AL_DELIVERTO example

**The variable must be compressed JSON!** The example below is structured json only for better readability. Scripts use AL_DELIVERTO.

```powershell
{
    "Apps": {  # Apps|Tests - specifies whether the configuration should be used for App or Test app file delivery
        "type": "AzureDevOps", # NuGet|AzureDevOps - specifies whether the delivery target is NuGet.org or Azure DevOps
        "NugetFeedName": "---Feed Name (where the app should be delivered to)---"
    },
    "Tests": {
        "type": "NuGet",
        "NugetFeedName": "---Feed Name (where the app should be delivered to)---"
    }
}
```

### AL_TRUSTEDNUGETFEEDS / AL_TRUSTEDNUGETFEEDS_INTERNAL example

**The variable must be compressed JSON!** The example below is structured json only for better readability. Scripts use AL_TRUSTEDNUGETFEEDS_INTERNAL. You should define AL_TRUSTEDNUGETFEEDS as secret variable in your library and pass it to AL_TRUSTEDNUGETFEEDS_INTERNAL in yaml files. Secret variables must be explicitly specified in yaml files, otherwise they are no available in pipeline.

```powershell
[
    {
        "Name":"---Feed 1 Name---",
        "Url":"---Feed 1 Url---",
        "Token":"---Feed 1 Token (with Read permission)---"
    },
    {
        "Name":"---Feed 2 Name---",
        "Url":"---Feed 2 Url---",
        "Token":"---Feed 2 Token (with Read permission)---"
    }
]
```

## ENV OUTPUT variables

No Environment Output variables
